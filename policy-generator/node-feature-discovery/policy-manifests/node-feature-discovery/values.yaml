# Values with hub template overrides for per-cluster configuration
# These override the defaults in capabilities/node-feature-discovery/values.yaml

policy_namespace: ${POLICY_NAMESPACE}

nodeFeatureDiscovery:
  name: nfd
  namespace: openshift-nfd
  operatorGroupName: openshift-nfd-operator
  targetNamespaces:
    - openshift-nfd
  # Hub templates - evaluated per managed cluster based on its labels
  channel: '{{ "{{hub" }} index .ManagedClusterLabels "autoshift.io/node-feature-discovery-channel" | default "stable" {{ "hub}}" }}'
  source: '{{ "{{hub" }} index .ManagedClusterLabels "autoshift.io/node-feature-discovery-source" | default "redhat-operators" {{ "hub}}" }}'
  sourceNamespace: '{{ "{{hub" }} index .ManagedClusterLabels "autoshift.io/node-feature-discovery-source-namespace" | default "openshift-marketplace" {{ "hub}}" }}'
