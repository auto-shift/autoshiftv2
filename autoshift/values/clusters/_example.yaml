# ==============================================================================
# Per-Cluster Override Example - ALL Available Options
# ==============================================================================
# Copy this file and rename it after your cluster (e.g., my-cluster.yaml).
# Labels defined here override clusterset labels for the named cluster.
# Precedence: cluster > clusterset > helm defaults
#
# Usage in ArgoCD Application:
#   valueFiles:
#     - values/global.yaml
#     - values/clustersets/hub.yaml
#     - values/clustersets/managed.yaml
#     - values/clusters/my-cluster.yaml    # <-- this file
#
# Notes:
#   - Only include labels you want to CHANGE from the clusterset defaults
#   - Create one file per cluster for clarity
# ==============================================================================

clusters:
  my-cluster-name:    # <-- Must match the cluster name in ACM
    labels:
      # =======================================================================
      # Any label from hub or managed clusterset can be overridden here.
      # Only include labels you want to CHANGE from the clusterset defaults.
      # =======================================================================

      # =======================================================================
      # Core Configuration
      # =======================================================================
      openshift-version: '4.20.12'

      # =======================================================================
      # Operator Toggles
      # =======================================================================
      gitops: 'true'
      tempo: 'true'
      kiali: 'true'
      servicemesh3: 'true'
      metallb: 'true'
      aap: 'true'
      lvm: 'true'
      local-storage: 'true'
      odf: 'true'
      imageregistry: 'true'
      nmstate: 'true'
      acs: 'true'
      dev-spaces: 'true'
      dev-hub: 'true'
      pipelines: 'true'
      tas: 'true'
      quay: 'true'
      gitops-dev: 'true'
      loki: 'true'
      logging: 'true'
      coo: 'true'
      compliance: 'true'
      virt: 'true'
      mtv: 'true'
      node-feature-discovery: 'true'
      sriov: 'true'

      # =======================================================================
      # Version Pinning (overrides clusterset channel-based updates)
      # =======================================================================
      gitops-version: 'openshift-gitops-operator.v1.19.1'
      tempo-version: 'tempo-operator.v0.19.0-3'
      kiali-version: 'kiali-operator.v2.17.3'
      servicemesh3-version: 'servicemeshoperator3.v3.2.1'
      metallb-version: 'metallb-operator.v4.20.0-202602021426'
      aap-version: 'aap-operator.v2.6.0-0.1768951413'
      lvm-version: 'lvms-operator.v4.20.0'
      local-storage-version: 'local-storage-operator.v4.20.0-202602032049'
      odf-version: 'odf-operator.v4.20.5-rhodf'
      nmstate-version: 'kubernetes-nmstate-operator.4.20.0-202601292039'
      acs-version: 'rhacs-operator.v4.9.2'
      dev-spaces-version: 'devspacesoperator.v3.26.0'
      dev-hub-version: 'rhdh-operator.v1.8.3'
      pipelines-version: 'openshift-pipelines-operator-rh.v1.21.0'
      tas-version: 'rhtas-operator.v1.3.2'
      quay-version: 'quay-operator.v3.8.15'
      loki-version: 'loki-operator.v6.4.2'
      logging-version: 'cluster-logging.v6.4.2'
      coo-version: 'cluster-observability-operator.v1.3.1'
      compliance-version: 'compliance-operator.v1.8.2'
      virt-version: 'kubevirt-hyperconverged-operator.v4.20.6'
      mtv-version: 'mtv-operator.v2.9.6'
      node-feature-discovery-version: 'nfd.4.20.0-202601292039'

      # =======================================================================
      # Channel Overrides
      # =======================================================================
      gitops-channel: gitops-1.19
      acs-channel: stable
      odf-channel: stable-4.20
      pipelines-channel: pipelines-1.21
      acm-channel: release-2.15

      # =======================================================================
      # ACM Config (hub clusters only)
      # =======================================================================
      acm-availability-config: 'High'
      acm-observability: 'true'

      # =======================================================================
      # Master Nodes (SNO / Compact clusters)
      # =======================================================================
      master-nodes: 'true'
      master-max-pods: '500'

      # =======================================================================
      # Infrastructure Node Sizing
      # =======================================================================
      infra-nodes: '6'
      infra-nodes-numcpu: '8'
      infra-nodes-memory-mib: '24576'
      infra-nodes-numcores-per-socket: '4'
      infra-nodes-provider: aws
      infra-nodes-instance-type: 'm5.2xlarge'
      infra-nodes-zone-1: 'us-east-2a'

      # =======================================================================
      # Worker Node Sizing
      # =======================================================================
      worker-nodes: '3'
      worker-nodes-numcpu: '8'
      worker-nodes-memory-mib: '32768'
      worker-nodes-numcores-per-socket: '4'
      worker-nodes-zone-1: 'us-east-2a'

      # =======================================================================
      # Storage Node Sizing
      # =======================================================================
      storage-nodes: '3'
      storage-nodes-numcpu: '16'
      storage-nodes-memory-mib: '65536'
      storage-nodes-numcores-per-socket: '8'
      storage-nodes-provider: aws
      storage-nodes-instance-type: 'm6in.8xlarge'

      # =======================================================================
      # ODF Sizing
      # =======================================================================
      odf-multi-cloud-gateway: standard
      odf-ocs-storage-class-name: 'gp3-csi'
      odf-ocs-storage-size: '2Ti'
      odf-ocs-storage-count: '2'
      odf-ocs-storage-replicas: '3'
      odf-ocs-flexible-scaling: 'true'
      odf-resource-profile: balanced

      # =======================================================================
      # Compliance Config
      # =======================================================================
      compliance-auto-remediate: 'true'

      # =======================================================================
      # Loki Sizing
      # =======================================================================
      loki-size: 1x.extra-small
      loki-storageclass: gp3-csi

      # =======================================================================
      # NMState Per-Cluster Network Config
      # =======================================================================
      nmstate-bond-1: 'bond0'
      nmstate-bond-1-mode: '802.3ad'
      nmstate-bond-1-port-1: 'eno1'
      nmstate-bond-1-port-2: 'eno2'
      nmstate-bond-1-ipv4: 'dhcp'
      nmstate-bond-1-ipv6: 'disabled'

      # =======================================================================
      # Disconnected Mirror
      # =======================================================================
      disconnected-mirror: 'true'
      mirror-catalog-suffix: 'mirror'
