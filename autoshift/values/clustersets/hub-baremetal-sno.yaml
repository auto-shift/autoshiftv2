# Baremetal SNO (Single Node OpenShift) Hub Configuration
# This profile excludes infra-nodes and worker-nodes policies
# and configures settings appropriate for SNO deployments

# Override: Exclude policies not applicable to SNO
excludePolicies:
  - infra-nodes
  - worker-nodes

# Hub Cluster Sets with Feature Flags. Blank will remove
hubClusterSets:
  hub:
    labels:
      # OpenShift version for cluster deployment and image mirroring
      openshift-version: '4.20.12'
      self-managed: 'true'
      ### Advance Cluster Manager
      acm-subscription-name: advanced-cluster-management
      acm-channel: release-2.15
      acm-source: redhat-operators
      acm-source-namespace: openshift-marketplace
      acm-availability-config: 'Basic'
      acm-observability: 'false'
      # acm-enable-provisioning: 'false'
      # acm-provisioning-storage-class: (optional)
      # acm-provisioning-database-size: 10Gi
      # acm-provisioning-filesystem-storage-size: 100Gi
      # acm-provisioning-image-storage-size: 50Gi
      ### OpenShift Gitops
      gitops: 'true' # is expected to be installed on all hub clusters
      gitops-subscription-name: openshift-gitops-operator
      gitops-disable-default-argocd: 'true'
      gitops-channel: gitops-1.19
      gitops-source: redhat-operators
      gitops-source-namespace: openshift-marketplace
      # gitops-namespace: 'openshift-gitops'  # Override ArgoCD namespace per-cluster
      ### Master Nodes
      master-nodes: 'true'
      master-max-pods: 500
      ### Storage Nodes
      storage-nodes: '1'
      storage-nodes-provider: baremetal
      ### Machine Health Checks
      machine-health-checks: 'false'
      machine-health-checks-worker: 'false'
      machine-health-checks-infra: 'false'
      machine-health-checks-storage: 'false'
      ### MetalLB
      metallb: 'true'
      metallb-subscription-name: metallb-operator
      # metallb-version: 'metallb-operator.v4.18.0-202509240837'
      metallb-source: redhat-operators
      metallb-source-namespace: openshift-marketplace
      metallb-channel: stable
      metallb-quota: 'false'
      # Set your quota if metallb-quota is enabled
      metallb-quota-cpu: ''
      metallb-quota-memory:
      # Specify the names of your IPPool files here
      metallb-ippool-1: ''
      #Specify your L2 Advertisement files here
      metallb-l2-1: ''
      # Specify the names of your BGP Advertisement files here
      metallb-bgp-1: ''
      # Specify the names of your Peer files here
      metallb-peer-1: ''
      ### Ansible Automation Platform
      aap: 'false'
      aap-subscription-name: ansible-automation-platform-operator
      aap-channel: stable-2.6
      aap-install-plan-approval: Automatic
      aap-source: redhat-operators
      aap-source-namespace: openshift-marketplace
      aap-hub-disabled: 'false'
      ### select either file storage OR s3 storage.
      aap-file-storage: 'true'
      aap-file_storage_storage_class: ocs-storagecluster-cephfs
      aap-file_storage_size: 10G
      ### s3 storage set as true will automatically create a NooBa bucket in the AAP namespace and attach it to AAP.
      aap-s3-storage: 'false'
      aap-eda-disabled: 'false'
      aap-lightspeed-disabled: 'true'
      ### Kubernetes NMState Operator
      nmstate: 'false'
      nmstate-subscription-name: kubernetes-nmstate-operator
      nmstate-channel: stable
      nmstate-source: redhat-operators
      nmstate-source-namespace: openshift-marketplace
      # nmstate-version: 'kubernetes-nmstate-operator.v4.18.0-202410091522'
      #
      # === Bond Interface Configuration ===
      # nmstate-bond-{N}: Bond interface name (e.g., 'bond0')
      # nmstate-bond-{N}-mode: '802.3ad', 'active-backup', 'balance-rr', etc.
      # nmstate-bond-{N}-port-{M}: Port interface name (e.g., 'eno1')
      # nmstate-bond-{N}-mtu: MTU value (e.g., '9000')
      # nmstate-bond-{N}-mac: MAC address with dots (e.g., 'aa.bb.cc.dd.ee.ff')
      # nmstate-bond-{N}-miimon: MII monitoring interval in ms (e.g., '100')
      # nmstate-bond-{N}-ipv4: 'dhcp', 'static', or 'disabled'
      # nmstate-bond-{N}-ipv4-address-{M}: IP address (e.g., '192.168.1.10')
      # nmstate-bond-{N}-ipv4-address-{M}-cidr: CIDR prefix (e.g., '24')
      # nmstate-bond-{N}-ipv6: 'dhcp', 'autoconf', 'static', or 'disabled'
      #
      # === VLAN Interface Configuration ===
      # nmstate-vlan-{N}: VLAN interface name (e.g., 'bond0.100')
      # nmstate-vlan-{N}-id: VLAN ID (e.g., '100')
      # nmstate-vlan-{N}-base: Base interface (e.g., 'bond0')
      # nmstate-vlan-{N}-ipv4: 'dhcp', 'static', or 'disabled'
      #
      # === Static Routes ===
      # nmstate-route-{N}-dest: Destination network (e.g., '10.0.0.0')
      # nmstate-route-{N}-cidr: CIDR prefix (e.g., '8')
      # nmstate-route-{N}-gateway: Next hop (e.g., '192.168.1.1')
      # nmstate-route-{N}-interface: Outgoing interface (e.g., 'bond0')
      #
      # === DNS Configuration ===
      # nmstate-dns-server-{N}: DNS server IP (e.g., '8.8.8.8')
      # nmstate-dns-search-{N}: Search domain (e.g., 'example.com')
      #
      # === Node Selector ===
      # nmstate-nodeselector-{N}-prefix: Label prefix (e.g., 'node-role.kubernetes.io') - optional
      # nmstate-nodeselector-{N}-name: Label name (e.g., 'worker')
      # nmstate-nodeselector-{N}-value: Label value (e.g., '')
      #
      # === OVS Bridge Configuration (for UDN/localnet) ===
      # nmstate-ovs-bridge-{N}: OVS bridge name (e.g., 'ovs-br1')
      # nmstate-ovs-bridge-{N}-port-{M}: Port interface (e.g., 'eth1', 'bond0')
      # nmstate-ovs-bridge-{N}-stp: Spanning tree protocol (default: 'false')
      # nmstate-ovs-bridge-{N}-allow-extra-patch-ports: Allow OVN patch ports (default: 'true')
      # nmstate-ovs-bridge-{N}-mcast-snooping: Multicast snooping (optional)
      #
      # === OVN Bridge Mapping (for UDN localnet topology) ===
      # nmstate-ovn-mapping-{N}-localnet: Localnet name for UDN (e.g., 'localnet1')
      # nmstate-ovn-mapping-{N}-bridge: OVS bridge to map (e.g., 'ovs-br1')
      #
      # === Host-Specific Configuration ===
      # For per-host configs (different IPs per node), use the nmstate-host-{H} prefix:
      # nmstate-host-{H}-hostname: Target hostname (e.g., 'worker-0.ocp.example.com')
      # nmstate-host-{H}-bond-{N}: Bond name for this host
      # nmstate-host-{H}-bond-{N}-mode: Bond mode
      # nmstate-host-{H}-bond-{N}-port-{M}: Bond port
      # nmstate-host-{H}-bond-{N}-ipv4: 'dhcp', 'static', or 'disabled'
      # nmstate-host-{H}-bond-{N}-ipv4-address-{M}: Static IP for this host
      # nmstate-host-{H}-bond-{N}-ipv4-address-{M}-cidr: CIDR prefix
      # (Same pattern for vlan, ethernet, ovs-bridge, ovn-mapping, route, dns)
      ### LVM Operator
      lvm: 'true'
      lvm-subscription-name: lvms-operator
      lvm-default: 'true'
      lvm-fstype: xfs
      lvm-size-percent: 90
      lvm-overprovision-ratio: 10
      lvm-channel: stable-4.20
      lvm-source: redhat-operators
      lvm-source-namespace: openshift-marketplace
      ### Local Storage Operator
      local-storage: 'false'
      local-storage-subscription-name: local-storage-operator
      local-storage-channel: stable
      local-storage-source: redhat-operators
      local-storage-source-namespace: openshift-marketplace
      ### OpenShift Data Foundation
      odf: 'true'
      odf-subscription-name: odf-operator
      odf-multi-cloud-gateway: standalone
      # odf-nooba-pvpool: ''
      # odf-nooba-store-size: ''
      # odf-nooba-store-num-volumes: ''
      # odf-ocs-storage-class-name: ''
      # odf-ocs-storage-size: ''
      # odf-ocs-storage-count: ''
      # odf-ocs-storage-replicas: ''
      # odf-resource-profile: ''
      odf-channel: stable-4.20
      odf-source: redhat-operators
      odf-source-namespace: openshift-marketplace
      ### OpenShift Internal Registry
      imageregistry: 'true'
      imageregistry-management-state: Managed
      imageregistry-replicas: '1'
      imageregistry-storage-type: s3 # pvc
      imageregistry-s3-region: us-east-2
      imageregistry-pvc-access-mode: ReadWriteMany
      imageregistry-pvc-size: 100Gi
      imageregistry-pvc-storage-class: ocs-storagecluster-ceph-rbd
      imageregistry-pvc-volume-mode: Block
      imageregistry-rollout-strategy: RollingUpdate
      ### Advanced Cluster Security
      acs: 'false'
      acs-subscription-name: rhacs-operator
      acs-egress-connectivity: Online
      acs-channel: stable
      acs-source: redhat-operators
      acs-source-namespace: openshift-marketplace
      acs-scanner-v4: Enabled
      acs-monitoring: 'true'
      acs-auth-provider: openshift
      acs-auth-min-role: None
      acs-auth-admin-group: cluster-admins
      # acs-vm-scanning: 'true'
      # acs-admission-control: 'true'
      # acs-network-policies: Enabled
      # acs-default-policies: 'true'
      ### Developer Spaces
      dev-spaces: 'false'
      dev-spaces-subscription-name: devspaces
      dev-spaces-channel: stable
      dev-spaces-source: redhat-operators
      dev-spaces-source-namespace: openshift-marketplace
      ### Developer Hub
      dev-hub: 'false'
      dev-hub-subscription-name: rhdh
      dev-hub-channel: fast-1.8
      dev-hub-source: redhat-operators
      dev-hub-source-namespace: openshift-marketplace
      ### OpenShift Pipelines
      pipelines: 'false'
      pipelines-subscription-name: openshift-pipelines-operator-rh
      pipelines-channel: pipelines-1.21
      pipelines-source: redhat-operators
      pipelines-source-namespace: openshift-marketplace
      ### Trusted Artifact Signer
      tas: 'false'
      tas-subscription-name: rhtas-operator
      tas-channel:  stable
      tas-source: redhat-operators
      tas-source-namespace: openshift-marketplace
      ### Quay
      quay: 'false'
      quay-subscription-name: quay-operator
      quay-channel: stable-3.16
      quay-install-plan-approval: Automatic
      quay-source: redhat-operators
      quay-source-namespace: openshift-marketplace
      ### Developer OpenShift Gitops
      gitops-dev: 'true'
      ### Loki
      loki: 'false'
      loki-subscription-name: loki-operator
      loki-channel: stable-6.4
      loki-install-plan-approval: Automatic
      loki-source: redhat-operators
      loki-source-namespace: openshift-marketplace
      loki-size: 1x.extra-small
      loki-storageclass: lvms-vg1
      loki-lokistack-name: logging-lokistack
      ### OpenShift Logging
      logging: 'false'
      logging-subscription-name: cluster-logging
      logging-channel: stable-6.4
      logging-install-plan-approval: Automatic
      logging-source: redhat-operators
      logging-source-namespace: openshift-marketplace
      ### Cluster Observability Operator
      coo: 'false'
      coo-subscription-name: cluster-observability-operator
      coo-channel: stable
      coo-source: redhat-operators
      coo-source-namespace: openshift-marketplace
      ### Compliance Operator Stig Apply
      compliance: 'false'
      compliance-auto-remediate: 'false'
      compliance-subscription-name: compliance-operator
      compliance-source: redhat-operators
      compliance-source-namespace: openshift-marketplace
      compliance-channel: stable
      ### Migration Toolkit for Openshift Virtualization
      mtv: 'true'
      mtv-subscription-name: mtv-operator
      mtv-channel: release-v2.10
      mtv-source: redhat-operators
      mtv-source-namespace: openshift-marketplace
      mtv-version: 'mtv-operator.v2.9.6'
