# Default values for servicemesh3
# This is a YAML-formatted file.
# Declare variables to be passed into your templates.
policy_namespace: open-cluster-policies
servicemesh3:
  name: servicemeshoperator3
  namespace: openshift-operators
  channel: stable
  source: redhat-operators
  sourceNamespace: openshift-marketplace
  operatorGroupName: global-operators
  # targetNamespaces: # Optional: specify target namespaces for namespace-scoped operators
  #   - openshift-operators

  # Istio control plane configuration
  istio:
    name: default
    namespace: istio-system
    # version: Set via labels or values.hub.yaml (e.g., autoshift.io/servicemesh3-istio-version)
    updateStrategy: InPlace
    pilot:
      cpuRequest: "100m"
      memoryRequest: "256Mi"

  # IstioCNI configuration (recommended for OpenShift)
  istioCni:
    enabled: true
    name: default
    # version: Set via labels or values.hub.yaml (e.g., autoshift.io/servicemesh3-istio-cni-version)
  
# hubClusterSets:
#   hub:
#     labels:
#       test1: 'test'
# managedClusterSets:
#   managed:
#     labels:
#       test4: 'test'

### AutoShift Labels Documentation
# The following labels can be set at the cluster or clusterset level to configure this policy:
#
# Enable/Disable:
# servicemesh3<bool>: 'true' or 'false' - Controls whether servicemesh3 is managed
#
# Configuration:
# servicemesh3-subscription-name<string>: Operator subscription name (default: 'servicemeshoperator3')
# servicemesh3-channel<string>: Operator channel (default: 'stable')
# servicemesh3-version<string>: Specific operator version (CSV) to install (optional)
# servicemesh3-source<string>: Operator catalog source (default: 'redhat-operators')
# servicemesh3-source-namespace<string>: Catalog namespace (default: 'openshift-marketplace')
#
# Examples:
# autoshift.io/servicemesh3: 'true'
# autoshift.io/servicemesh3-subscription-name: 'servicemeshoperator3'
# autoshift.io/servicemesh3-channel: 'stable'
# autoshift.io/servicemesh3-version: 'operator-name.v1.x.x'
# autoshift.io/servicemesh3-source: 'redhat-operators'
# autoshift.io/servicemesh3-source-namespace: 'openshift-marketplace'